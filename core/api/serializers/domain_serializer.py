from django.db.models import F, JSONField, Value
from rest_framework import serializers

from core.common_func import *
from core.dashboard.models import *
from core.recon_note.models import *
from core.scanEngine.models import *
from core.startScan.models import *
from core.targetApp.models import Domain, Project


class DomainSerializer(serializers.ModelSerializer):
    vuln_count = serializers.SerializerMethodField()

    class Meta:
        model = Domain
        fields = "__all__"

    def get_vuln_count(self, obj):
        try:
            return obj.vuln_count
        except:
            return None
